<div class="contents">
  <div class="top">
    <!--<nav-bar-component [headerField2]="date.getFullYear()" [headerField]="months[date.getMonth()]" ></nav-bar-component>-->
    <nav-bar-component [headerField2]="date.getFullYear()" [(headerField)]="date"
                       (pushed)="changeDate(date.getFullYear() +$event, date.getMonth(), date.getDate())"></nav-bar-component>

    <nav-bar-component [headerField2]="months[date.getMonth()]" [(headerField)]="date"
                       (pushed)="changeDate(date.getFullYear(), date.getMonth() + $event, date.getDate())"></nav-bar-component>

    <nav-bar-component [headerField2]="date.getDate()" [(headerField)]="date"
                       (pushed)="changeDate(date.getFullYear(), date.getMonth(), date.getDate() + $event )"></nav-bar-component>

    <!--
    <nav-bar-component [headerField2]="date.getFullYear()" [(headerField)]="date" (pushed)="date.setFullYear(date.getFullYear() +$event)"  ></nav-bar-component>
    <nav-bar-component [headerField2]="months[date.getMonth()]" [(headerField)]="date" (pushed)="date.setMonth(date.getMonth() + $event)"  ></nav-bar-component>
    <nav-bar-component [headerField2]="date.getDate()" [(headerField)]="date" (pushed)="date.setDate($event + date.getDate())"  ></nav-bar-component>
  -->
    <!--<nav-bar-component [headerField]="'Week'" ></nav-bar-component>-->
    <!--<nav-bar-component [headerField2]="date.getDate()" ></nav-bar-component>-->

    <table class="time table-striped table-hover">
      <thead>
      <tr>
        <th class="bruker">Bruker</th>
        <th class="hour">23:00</th>
        <th class="hour" *ngFor="let a of tempArr; let index = index">
          <div *ngIf="index < 10">0{{index}}:00</div>
          <div *ngIf="index >= 10">{{index}}:00</div>
          <!--0700-1500  1500-2300 2300-0700-->
        </th>
        <th class="filler"></th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let shift of daysShifts[this.date.getDate()]; let rows = index">
        <!--<td>{{shift.etternavn}}</td>-->
        <td>{{usersIndexed[shift.userId].etternavn}}, {{usersIndexed[shift.userId].fornavn}}</td>
        <td *ngFor="let b of tempArr; let index = index">
          <div *ngIf="index <= 8 && shift.toTime == 7"
               class="{{cssClasses[usersIndexed[shift.userId].stillingsBeskrivelse]}}">asd
          </div>
          <div *ngIf="index >= 8 && index <= 15 && shift.toTime == 15"
               class="{{cssClasses[usersIndexed[shift.userId].stillingsBeskrivelse]}}">asd
          </div>
          <div *ngIf="index >= 15 && index <= 23 && shift.toTime == 23"
               class="{{cssClasses[usersIndexed[shift.userId].stillingsBeskrivelse]}}">asd
          </div>
          <!--<div *ngIf="index <= 15 && shift.toTime == 15" class="yellowDiv">asd</div>-->
          <!--<div *ngIf="index <= 23 && shift.toTime == 23" class="yellowDiv">asd</div>-->
          <!--<div *ngIf="index <= shift.toTime " class="yellowDiv">asd</div>-->
          <!--<div *ngIf="index <= shift.toTime " class="yellowDiv">asd</div>-->
          <!--<div *ngIf="index <= shift.toTime * 8" class="yellowDiv">asd</div>-->
          <!--<div *ngIf="index <= shift.toTime * 8" class="yellowDiv">asd</div>-->
        </td>
      </tr>
      </tbody>
    </table>

    <div [hidden]="shiftPercentageOk[0]">
      <a class="varsel glyphicon glyphicon-warning-sign">
        Det er liten prosentandel av sykepleiere eller Helsefagarbeidere på skift 2300-0700
      </a>
    </div>
    <div [hidden]="shiftPercentageOk[1]">
      <a class="varsel glyphicon glyphicon-warning-sign">
        Det er liten prosentandel av sykepleiere eller Helsefagarbeidere på skift 0700-1500
      </a>
    </div>
    <div [hidden]="shiftPercentageOk[2]">
      <a class="varsel glyphicon glyphicon-warning-sign">
        Det er liten prosentandel av sykepleiere eller Helsefagarbeidere på skift 1500-2300
      </a>
    </div>
    <div id="colorcode">
      <div class="yellow-div">
        <p>Helsefagarbeider</p>
      </div>
      <div class="green-div">
        <p>Sykepleier</p>
      </div>
      <div class="red-div">
        <p>Assistent</p>
      </div>
    </div>
  </div> <!--top-->

  <div class="bottom">

    <form class="shift1">
      <label for="avdeling1">Avdeling</label>
      <select value="dsf" class="form-control"
              id="avdeling1" required>
        <option value="1">Solbakken</option>
        <option>2</option>
        <option>3</option>
      </select>
    </form>

    <table class="users table-striped table-hover">
      <thead>
      <tr>
        <th class="bruker">Bruker</th>
        <th>Ordinær tid igjen</th>
        <th>Overtid</th>
        <th class="last">Stillingsprosent</th>
        <th class="filler"></th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let user of allUsers" (click)="setForm(user)">
        <!--[class.selected]="shift"-->

        <td>{{user.etternavn}}, {{user.fornavn}}</td>
        <td>{{user.brukerId}}</td>
        <td>{{ordinaryTimeAndOvertime[user.brukerId]}}</td>
        <td>{{user.stillingsProsent}}</td>
        <!--<td>{{ordinaryTimeAndOvertime?[user.brukerId][1]}}</td>-->
      </tr>
      </tbody>
    </table>

    <table class="availability table-striped table-hover">
      <thead>
      <tr>
        <th class="bruker">Ansatt</th>
        <th>Fra</th>
        <th class="last">Til</th>
        <th class="filler"></th>
      </tr>
      </thead>
      <tbody>

      </tbody>
      <!--<tr *ngFor="let shift of shiftsUsersCanWork" (click)="setForm(shift)">
        <td>{{usersIndexed[shift.brukerId]}}</td>
        <td>{{shift.fromTime}}</td>
        <td>{{shift.toTime}}</td></tr>-->
    </table>

    <form class="shift">
      <input-field [field]="'Ansatt'" [disabled]="true"
                   [fieldValue]="(shiftInForm?.user.etternavn + ', ' + shiftInForm?.user.fornavn)"></input-field>

      <label for="avdeling">Skift</label>
      <select class="selects form-control" id="avdeling"
              required
              name="avdelingId"
              (ngModel)="shiftInForm.fromTime">
        <option [value]="'0'" selected>23:00-07:00</option>
        <option [value]="'1'">07:00-15:00</option>
        <option [value]="'2'">15:00-23:00</option>
      </select>
    </form>
  </div> <!--Bottom-->
  <button class="btn btn-primary btn-large" type="button" (click)="registerShift()">Registrer skift</button>
  <button class="btn btn-primary btn-large">check</button>

</div>
